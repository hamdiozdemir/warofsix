{% extends 'main/layout.html' %}
{% load static %}

{% block head %}
<link rel="stylesheet" href="{% static 'style/usermessages.css' %}" type="text/css">
{% endblock head %}


{% block body %}


<div class="message-container">


  <div class="menu-bar">
    <div class="menu-line active"><a href="/usermessages/new_message">New Message</a></div>
    <div class="menu-line"><a href="/usermessages/inbox">Inbox</a></div>
    <div class="menu-line"><a href="/usermessages/sent">Sent</a></div>
  </div>


  <div class="new-message">

    <form method="post">
      {% csrf_token %}

      <div class="form-floating mb-3">
        <input type="text" class="form-control" id="username" name="username">
        <label for="username">TO</label>
      </div>
      <div class="form-floating">
        <input type="text" class="form-control" id="floatingTitle" name="header">
        <label for="floatingTitle">Title</label>
      </div>
      <div class="form-floating">
        <textarea class="form-control" placeholder="Leave a comment here" id="floatingTextarea" style="height: 150px" maxlength="490" name="content"></textarea>
        <label for="floatingTextarea">Message</label>
      </div>
      <button type="submit" class="btn btn-primary">Send</button>
    </form>

  </div>

</div>


 <!--  Incoming link with params  -->
 <script>
  // Get the URL parameters
  const urlParams = new URLSearchParams(window.location.search);
  const username = urlParams.get('username');


  // Set the values of the input fields
  document.getElementById('username').value = username;
</script>

{% endblock body %}